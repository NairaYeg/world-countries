{"version":3,"sources":["src/helpers/localStorage.js","src/services/getFavoriteCountries.js","src/constants/api.js","src/helpers/array.helper.js","src/render.js","src/helpers/request.js","src/favorites.js"],"names":["addItemToLocalStorage","key","value","localStorage","setItem","JSON","stringify","error","Error","getItemFromLocalStorage","parse","getItem","removeItemFromLocalStorage","removeItem","getFavoriteCountries","hasOwnProperty","BASE_URL","removeItemByValue","arr","i","length","name","splice","favoriteCountries","render","body","countries","title","titleContext","innerText","forEach","state","createTableRow","flag","renderErrorMessage","message","errMessage","document","createElement","append","tableBody","newRow","insertRow","icon","createBookmarkIcon","nameCell","insertCell","flagCell","img","countryName","src","classList","add","appendChild","country","remove","addEventListener","contains","favCountry","url","push","classListItem","request","method","requestConfig","headers","fetch","then","r","json","doGet","doPost","doPut","querySelector"],"mappings":";;AMAA;;AACA;;AJDO,AIIP,IJJagB,AIIPwB,QJJe,CIIN,EJJS,CIINH,QAAQ,CAACoC,aAAT,CAAuB,OAAvB,CAAlB,EJJO;ACAA,AEAP,ADAA,AHAA,IIAMX,KFAU7C,EEAH,GAAG,SAAV6C,GFAC,CAA2B5C,GAA3B,AEAS,CAACyC,CFAsBzD,EEAvB,EAAsC,CFA/C,EAAuC;AGM9CqB,AHLG,AEDmD,MAAhCwC,CFCf,IAAI5C,CAAC,AED0C,GFCvC,CAAZ,EAAeA,CAAC,GAAGD,GAAG,CGKPY,AHLQV,MAAvB,CGKH,CAA0B,AHLQD,CAAC,EAAhC,EAAoC,KGKbmC,OAAO,EAAI,8BDNN,KAAuB;ACOjD,AHLC,AHFN,AKAsD,ADCtD,AHEO,MIH+B7B,EFE7BP,CFCOJ,CIHsC,CFE1C,CAACK,CAAD,CAAH,CAAOE,IAAP,GGKEiC,EHLcpD,KGKP,AHLZ,AFCC,CKIYyD,CHLa,CFCM,CKIjC,EACEQ,IADF,CACO,UAAAC,CAAC,EAAI,4BDR4B,IAAS;ACS9C,AHNDlD,AEFH,AJGA,MEDGA,AEFG8C,GFEA,AFCC7D,CEDAmB,MAAJ,CAAWH,CAAX,CEFgB,CFEF,CAAd,AFCgB,CIHG,AJGFJ,UKKDqD,CAAC,CAAC,CAAD,CAAD,ALLZ,CKKiB/C,ALLW,IKK/B,EAA0B+C,CAAC,CAAC,CAAD,CAAD,CAAKnC,IAA/B,EAAqCO,ELLlC,IAAmD,GKKtD,wCLL8E,mBAAxB,CAAnD,GAAkG,yCAAsB,mBAAtB,EAA2C,EAA3C,CAAzG;AKMG,AHNA,AEFDuB,ADAN,AHGC,GKEI,CDLCA,MAAM,EAANA,MADoB;ACUzB,AHNE,AEFGE,CCGN,GDHMA,OAAO,EAAE,CACP;AADO,ADAf;ADIE,AENwB,GAAtB,MFMK/C,GAAP;AACD,AHDM,SAASlB,qBAAT,CAA+BC,GAA/B,EAAoCC,KAApC,EAA2C;AAChD,AKAE,MLAE,AKAEuB,IAAJ,EAAU;ALCVtB,AKAE6D,ILAF7D,AKAE6D,YLAU,CAAC5D,AKAE,CAACqB,IAAd,ELAF,CAAqBxB,AKAEI,GLAvB,CKA2B,CLADA,AKAEC,ILAE,CAACA,IKAR,CAAemB,ILAZ,AKA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","file":"favorites.748fa525.js","sourceRoot":"..\\app","sourcesContent":["/**\r\n *The function adds an item in localStorage. As a parameter, accepts two arguments, the first argument  should be string, the second argument can be any kind of type.\r\n * @param {string}-localStorage property key\r\n * @param {*}-localStorage property value\r\n * @returns {*}-property value\r\n */\r\n\r\nexport function addItemToLocalStorage(key, value) {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value)); //@TODO add try catch \r\n    return value;\r\n  }catch (error){\r\n    throw new Error (\"Not possible add item in localStorage\")\r\n  }\r\n  \r\n}\r\n\r\n\r\n/**\r\n *The function gets the item from localStorage by key. As a parameter accepts one  argument- property key.\r\n * @param {string}-localStorage property key\r\n * @returns {object}-local storage property value\r\n */\r\n\r\nexport function getItemFromLocalStorage(key){\r\n  try {\r\n    return JSON.parse(localStorage.getItem(`${key}`));\r\n  } catch (error) {\r\n    throw new Error (\"Not possible get  item  from localStorage\")\r\n  }\r\n}\r\n\r\n\r\n/**\r\n *The function removes the item from localStorage by key. As a parameter accepts one argument- property key, which will be deleted.\r\n * @param {string}-localStorage property key\r\n * @returns {string}-localStorage property key\r\n */\r\n\r\nexport function removeItemFromLocalStorage(key){\r\n  try {\r\n    localStorage.removeItem(`${key}`);\r\n    return key;\r\n  } catch (error) {\r\n    throw new Error (\"Not possible  delete   item  from localStorage\")\r\n  }\r\n}\r\n","import {addItemToLocalStorage} from \"../helpers/localStorage.js\"\r\nimport {getItemFromLocalStorage} from \"../helpers/localStorage.js\"\r\n\r\nexport function getFavoriteCountries(){ \r\n    return localStorage.hasOwnProperty(\"favoriteCountries\") ? getItemFromLocalStorage(\"favoriteCountries\") : addItemToLocalStorage(\"favoriteCountries\", []) \r\n}\r\n\r\n","export const BASE_URL = \"https://restcountries.eu/rest/v2\";","export function removeItemByValue(arr, value) {\r\n   for(let i = 0; i < arr.length; i++ ){\r\n      if(arr[i].name === value) {\r\n       arr.splice(i, 1);\r\n      }\r\n  }\r\n \r\n  return arr;\r\n}","import {getFavoriteCountries} from \"./services/getFavoriteCountries.js\"\r\nimport {BASE_URL} from \"./constants/api.js\"\r\nimport {addItemToLocalStorage} from \"./helpers/localStorage.js\"\r\nimport {removeItemByValue} from \"./helpers/array.helper.js\"\r\n\r\nexport let favoriteCountries = [...getFavoriteCountries()]\r\n\r\nexport const  render = (body, countries, title, titleContext=\"We are the one\") =>{\r\n   if(title){\r\n     title.innerText = `${titleContext}`\r\n   }\r\n    body.innerText = \"\"\r\n    countries.forEach((state) => {\r\n    createTableRow(state.name, state.flag, body)\r\n    });\r\n} \r\n\r\nexport const renderErrorMessage =(body, message, title, titleContext=\"We are the one\") =>{\r\n  if(title){\r\n    title.innerText = `${titleContext}`\r\n    }\r\n    body.innerText = \"\";\r\n    const errMessage = document.createElement(\"h3\")\r\n    errMessage.innerText = `${message}`\r\n    body.append(errMessage)\r\n}\r\n\r\nexport const createTableRow = (name, flag, tableBody) =>{\r\n    const newRow = tableBody.insertRow(tableBody.length);\r\n  \r\n    let icon = createBookmarkIcon(\"far\");\r\n  \r\n    const nameCell = newRow.insertCell(0);\r\n    const flagCell = newRow.insertCell(1);\r\n  \r\n    let img = document.createElement(\"img\");\r\n    let countryName = document.createElement(\"h3\");\r\n  \r\n    countryName.innerText = name;\r\n    img.src = flag;\r\n    img.classList.add(\"flag-img\");\r\n    flagCell.append(img);\r\n  \r\n    nameCell.appendChild(countryName);\r\n    nameCell.appendChild(icon);\r\n  \r\n    nameCell.classList.add(\"bookmarkIcon\");\r\n    favoriteCountries.forEach((country) => {\r\n      if (country.name === name) {\r\n        nameCell.appendChild(countryName);\r\n        icon.classList.remove(\"far\");\r\n        icon.classList.add(\"fas\");\r\n        nameCell.appendChild(icon);\r\n      }\r\n    });\r\n  \r\n    nameCell.addEventListener(\"click\", () => {\r\n      if (icon.classList.contains(\"far\")) {\r\n        icon.classList.remove(\"far\");\r\n        icon.classList.add(\"fas\");\r\n        nameCell.innerText = \"\";\r\n        nameCell.appendChild(countryName);\r\n        nameCell.appendChild(icon);\r\n        let favCountry = { name: `${name}`, url: `${BASE_URL}/name/${name}` };\r\n        \r\n        favoriteCountries.push(favCountry)\r\n        addItemToLocalStorage(\"favoriteCountries\", favoriteCountries);\r\n        return;\r\n      }\r\n      if (icon.classList.contains(\"fas\")) {\r\n        removeItemByValue(favoriteCountries, name);\r\n        addItemToLocalStorage(\"favoriteCountries\", favoriteCountries);\r\n        icon.classList.remove(\"fas\");\r\n        icon.classList.add(\"far\");\r\n        nameCell.innerText = \"\";\r\n        nameCell.appendChild(countryName);\r\n        nameCell.appendChild(icon);\r\n        return;\r\n      }\r\n    });\r\n\r\n    newRow.classList.add(\"country\");\r\n  \r\n    return newRow;\r\n  }\r\n  \r\n\r\n\r\n\r\n  /**\r\n *A function create bookmark icon,  accept  one argument, icon class, the look of the icon  depends on that class.\r\n * @param {string}-class name\r\n * @returns {object}-icon\r\n */\r\n\r\nexport const createBookmarkIcon=(classListItem) =>{\r\n    let icon = document.createElement(\"i\");\r\n    icon.classList.add(`${classListItem}`);\r\n    icon.classList.add(\"fa-bookmark\");\r\n    icon.classList.add(\"fa-2x\");\r\n    return icon;\r\n  }\r\n  ","const request = (url, method = \"GET\", body = null) => {\r\n    const requestConfig = {\r\n      method,\r\n      headers: {\r\n        // \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n    };\r\n  \r\n    if (body) {\r\n      requestConfig.body = JSON.stringify(body);\r\n    }\r\n  \r\n    return fetch(url, requestConfig).then((r) => r.json())\r\n  };\r\n  \r\n  export const doGet = (url) => request(url, \"GET\");\r\n  \r\n  export const doPost = (url, body) => request(url, \"POST\", body);\r\n  \r\n  export const doPut = (url, body) => request(url, \"PUT\", body);","import {createTableRow} from \"./render.js\"\r\nimport {doGet} from \"./helpers/request.js\"\r\nimport {favoriteCountries} from \"./render.js\"\r\n\r\nconst tableBody = document.querySelector(\"tbody\")\r\n\r\nfavoriteCountries.forEach(country => {\r\n     doGet(country.url)\r\n      .then(r => {\r\n        createTableRow(r[0].name, r[0].flag, tableBody)\r\n      })\r\n})\r\n\r\n\r\n"]}